// BomberMan_012025/Source/BomberMan_012025/DirectorLaberinto.cpp
#include "DirectorLaberinto.h"
#include "ConstructorLaberintoConcreto.h"
#include "Engine/World.h"
#include "Kismet/GameplayStatics.h"
#include "Engine/Engine.h"
#include "GameFramework/Actor.h"
#include "UObject/NoExportTypes.h"

ADirectorLaberinto::ADirectorLaberinto()
{
    PrimaryActorTick.bCanEverTick = false;
    InicializarPlantillas();
}

void ADirectorLaberinto::BeginPlay()
{
    Super::BeginPlay();

    if (!ConstructorActualBuilder)
    {
        FActorSpawnParameters ParametrosSpawn;
        ParametrosSpawn.SpawnCollisionHandlingOverride = ESpawnActorCollisionHandlingMethod::AlwaysSpawn;
        ConstructorActualBuilder = GetWorld()->SpawnActor<AConstructorLaberintoConcreto>(FVector::ZeroVector, FRotator::ZeroRotator, ParametrosSpawn);
        if (!ConstructorActualBuilder)
        {
            if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 15.f, FColor::Red, TEXT("ERROR: DirectorLaberinto - Fallo el spawn del Constructor."));
        }
    }
}

UMaestroLaberintoProducto* ADirectorLaberinto::ConstruirLaberintoPorCapas(
    const TArray<FilaPlantilla>& PlantillaPiso,
    const TArray<FilaPlantilla>& PlantillaBordeInferior,
    const TArray<FilaPlantilla>& PlantillaBordeSuperior,
    const TArray<FilaPlantilla>& PlantillaMurosInferiores,
    const TArray<FilaPlantilla>& PlantillaMurosSuperiores,
    float TamanoCelda)
{
    if (!ConstructorActualBuilder)
    {
        if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 15.f, FColor::Red, TEXT("ERROR: DirectorLaberinto - Builder nulo para construir laberinto."));
        return nullptr;
    }

    FString MensajeInicio = TEXT("--- Director: Iniciando construccion de Laberinto Capa por Capa ---");
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 10.f, FColor::White, MensajeInicio);

    LimpiarActoresDelMundo(ADirectorLaberinto::StaticClass());
    LimpiarActoresDelMundo(AConstructorLaberintoConcreto::StaticClass());

    ConstructorActualBuilder->Reiniciar();

    auto ConvertirPlantilla = [](const TArray<FilaPlantilla>& InPlantilla) -> TArray<TArray<int32>>
        {
            TArray<TArray<int32>> OutPlantilla;
            for (const FilaPlantilla& Fila : InPlantilla)
            {
                OutPlantilla.Add(Fila.FilaDatos);
            }
            return OutPlantilla;
        };

    FString MensajePiso = TEXT("Director: Construyendo el PISO del laberinto (Nivel Z = 0)");
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 5.f, FColor::Silver, MensajePiso);
    ConstructorActualBuilder->ConstruirCapa(ConvertirPlantilla(PlantillaPiso), 0, TamanoCelda);

    FString MensajeBordesInferiores = TEXT("Director: Construyendo CONTORNOS INFERIORES y MUROS INFERIORES (Nivel Z = 1)");
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 5.f, FColor::Silver, MensajeBordesInferiores);
    ConstructorActualBuilder->ConstruirCapa(ConvertirPlantilla(PlantillaBordeInferior), 1, TamanoCelda);
    ConstructorActualBuilder->ConstruirCapa(ConvertirPlantilla(PlantillaMurosInferiores), 1, TamanoCelda);

    FString MensajeBordesSuperiores = TEXT("Director: Construyendo CONTORNOS SUPERIORES y MUROS SUPERIORES (Nivel Z = 2)");
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 5.f, FColor::Silver, MensajeBordesSuperiores);
    ConstructorActualBuilder->ConstruirCapa(ConvertirPlantilla(PlantillaBordeSuperior), 2, TamanoCelda);
    ConstructorActualBuilder->ConstruirCapa(ConvertirPlantilla(PlantillaMurosSuperiores), 2, TamanoCelda);

    UMaestroLaberintoProducto* LaberintoCompletado = ConstructorActualBuilder->ObtenerResultado();
    FString MensajeFin = TEXT("--- Director: Laberinto Capa por Capa Construido ---");
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 10.f, FColor::White, MensajeFin);

    if (LaberintoCompletado)
    {
        FString MensajeSpawn = TEXT("Director: Spawneando bloques del laberinto en el mundo de juego.");
        if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 5.f, FColor::Turquoise, MensajeSpawn);

        UWorld* Mundo = GetWorld();
        if (Mundo)
        {
            for (ABloque* Bloque : LaberintoCompletado->ObtenerBloques())
            {
                if (Bloque)
                {
                    FString MensajeBloque = FString::Printf(TEXT("Director: Bloque <%s> posicionado en (%.1f,%.1f,%.1f)"),
                        *Bloque->GetClass()->GetName(), Bloque->GetActorLocation().X, Bloque->GetActorLocation().Y, Bloque->GetActorLocation().Z);
                    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 2.f, FColor::Cyan, MensajeBloque);
                }
            }
        }
    }

    return LaberintoCompletado;
}

void ADirectorLaberinto::LimpiarActoresDelMundo(TSubclassOf<AActor> ClaseActorAExcluir)
{
    UWorld* Mundo = GetWorld();
    if (!Mundo)
    {
        if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 15.f, FColor::Red, TEXT("ERROR: Director - No se pudo obtener el Mundo para limpiar."));
        return;
    }

    TArray<AActor*> ActoresEncontrados;
    UGameplayStatics::GetAllActorsOfClass(Mundo, AActor::StaticClass(), ActoresEncontrados);

    int32 ActoresDestruidos = 0;
    for (AActor* Actor : ActoresEncontrados)
    {
        bool bEsActorEsencial = (Actor == this || Actor == ConstructorActualBuilder);

        if (ClaseActorAExcluir && Actor->IsA(ClaseActorAExcluir))
        {
            bEsActorEsencial = true;
        }

        // Codigo comentado:
        /*if (Actor && !Actor->IsPendingKill() && !bEsActorEsencial)
        {
            Actor->Destroy();
            ActoresDestruidos++;
        }*/
    }
    FString Mensaje = FString::Printf(TEXT("Director: %d actores han sido 'eliminados' del mapa! (Excluyendo clase: %s)"), ActoresDestruidos, ClaseActorAExcluir ? *ClaseActorAExcluir->GetName() : TEXT("Ninguna"));
    if (GEngine) GEngine->AddOnScreenDebugMessage(-1, 15.f, FColor::Yellow, Mensaje);
}

void ADirectorLaberinto::InicializarPlantillas()
{
    DatosPlantillaPiso.Empty();
    DatosPlantillaBordeInferior.Empty();
    DatosPlantillaBordeSuperior.Empty();
    DatosPlantillaMurosInferiores.Empty();
    DatosPlantillaMurosSuperiores.Empty();

    // Plantilla de Piso
    TArray<TArray<int32>> TempPiso = {
    {4, 4, 2, 2, 4, 2, 6, 6, 4, 3, 5, 5, 6, 2, 4, 6, 4, 6, 5, 3, 6, 3, 5, 4, 4, 6, 2, 2, 3, 4, 5, 5, 4, 4, 4, 3, 2, 3},
    {6, 3, 6, 6, 4, 2, 5, 2, 4, 2, 2, 5, 6, 2, 5, 2, 3, 2, 4, 5, 5, 6, 4, 4, 2, 3, 2, 2, 4, 3, 5, 3, 3, 5, 3, 4, 3, 5},
    {4, 5, 4, 2, 5, 5, 5, 2, 2, 2, 5, 2, 3, 4, 3, 3, 4, 5, 5, 2, 3, 2, 5, 5, 2, 2, 2, 5, 4, 3, 2, 3, 4, 3, 4, 4, 3, 6},
    {4, 6, 4, 4, 4, 5, 4, 4, 6, 2, 2, 5, 4, 4, 4, 2, 5, 5, 5, 6, 4, 2, 3, 4, 4, 5, 6, 4, 3, 3, 4, 2, 2, 4, 3, 4, 6, 4},
    {3, 3, 2, 2, 3, 2, 2, 5, 4, 5, 3, 3, 3, 6, 6, 4, 3, 3, 2, 3, 5, 2, 5, 5, 4, 6, 4, 6, 3, 5, 3, 4, 4, 2, 3, 6, 4, 3},
    {6, 3, 2, 5, 6, 3, 4, 5, 4, 4, 5, 5, 5, 3, 2, 3, 5, 5, 6, 6, 6, 2, 3, 6, 3, 2, 5, 5, 3, 2, 5, 2, 3, 6, 5, 3, 4, 6},
    {2, 6, 2, 2, 6, 2, 5, 6, 3, 4, 5, 3, 3, 2, 2, 6, 2, 2, 2, 6, 2, 6, 4, 6, 2, 5, 4, 3, 5, 5, 5, 6, 6, 4, 5, 2, 2, 3},
    {6, 5, 6, 6, 5, 5, 2, 6, 3, 2, 5, 6, 2, 4, 6, 3, 3, 3, 5, 6, 2, 5, 4, 2, 2, 2, 2, 4, 3, 3, 4, 3, 3, 6, 6, 5, 3, 3},
    {4, 2, 4, 4, 4, 2, 6, 5, 5, 6, 2, 5, 3, 6, 3, 6, 4, 3, 4, 4, 6, 2, 5, 5, 6, 3, 3, 2, 5, 5, 5, 2, 2, 3, 5, 6, 2, 4},
    {3, 2, 5, 2, 6, 2, 2, 6, 6, 6, 4, 6, 5, 5, 6, 2, 2, 6, 6, 4, 6, 4, 2, 2, 4, 5, 3, 6, 5, 4, 3, 4, 6, 6, 6, 2, 2, 2},
    {5, 6, 6, 4, 6, 2, 6, 6, 5, 3, 6, 6, 2, 5, 3, 5, 5, 2, 2, 5, 4, 3, 2, 6, 5, 2, 3, 4, 4, 6, 3, 6, 5, 6, 3, 2, 6, 5},
    {3, 3, 2, 6, 5, 4, 5, 6, 6, 2, 2, 2, 2, 3, 3, 6, 4, 3, 5, 2, 6, 6, 3, 5, 5, 4, 5, 3, 4, 5, 4, 2, 2, 6, 2, 6, 3, 2},
    {6, 2, 3, 6, 3, 6, 2, 6, 5, 5, 4, 4, 5, 5, 4, 2, 4, 2, 2, 2, 4, 5, 3, 6, 5, 2, 2, 3, 3, 2, 6, 4, 2, 2, 4, 5, 3, 6},
    {2, 4, 3, 6, 6, 6, 3, 4, 3, 6, 2, 5, 3, 3, 3, 6, 5, 6, 6, 6, 4, 6, 4, 2, 4, 2, 6, 3, 2, 4, 4, 6, 3, 4, 5, 2, 3, 6},
    {5, 2, 2, 6, 4, 2, 3, 3, 5, 3, 3, 5, 2, 2, 4, 5, 5, 6, 2, 4, 6, 6, 6, 6, 3, 3, 4, 4, 5, 6, 3, 2, 4, 5, 2, 3, 2, 4},
    {5, 6, 6, 5, 5, 4, 6, 5, 5, 5, 3, 2, 2, 2, 6, 4, 2, 2, 2, 3, 3, 6, 2, 4, 5, 5, 5, 2, 4, 5, 6, 4, 4, 2, 2, 2, 5, 6},
    {4, 6, 3, 4, 5, 6, 2, 5, 6, 3, 5, 4, 2, 2, 6, 4, 5, 6, 2, 4, 3, 2, 2, 4, 3, 3, 2, 4, 2, 5, 2, 5, 4, 6, 3, 3, 5, 2},
    {3, 4, 4, 3, 5, 3, 5, 5, 3, 2, 4, 3, 6, 4, 5, 6, 5, 2, 4, 3, 6, 5, 3, 3, 3, 6, 3, 5, 2, 2, 3, 2, 3, 3, 3, 2, 5, 2},
    {2, 6, 3, 3, 2, 5, 2, 2, 4, 2, 6, 4, 3, 3, 4, 6, 3, 5, 6, 3, 4, 3, 3, 5, 4, 3, 5, 4, 3, 5, 6, 5, 2, 4, 3, 3, 6, 3},
    {3, 3, 4, 5, 6, 5, 2, 2, 6, 3, 2, 5, 5, 2, 2, 3, 3, 2, 4, 4, 3, 3, 4, 6, 6, 2, 6, 6, 2, 4, 5, 3, 6, 4, 6, 5, 3, 6},
    {4, 3, 5, 6, 6, 3, 3, 6, 6, 3, 2, 4, 2, 5, 4, 3, 6, 3, 3, 4, 3, 5, 6, 4, 6, 2, 2, 4, 4, 6, 4, 4, 3, 6, 3, 5, 5, 4},
    {5, 3, 3, 3, 2, 5, 4, 4, 3, 5, 2, 5, 6, 4, 4, 2, 4, 3, 3, 5, 2, 3, 6, 4, 6, 5, 6, 2, 6, 3, 3, 6, 3, 4, 3, 5, 6, 4},
    {3, 5, 2, 6, 5, 3, 4, 2, 6, 3, 5, 4, 6, 2, 3, 4, 4, 4, 6, 3, 6, 6, 6, 5, 5, 6, 6, 6, 3, 4, 5, 4, 5, 4, 6, 4, 3, 3},
    {6, 5, 3, 3, 6, 2, 5, 3, 4, 3, 6, 6, 3, 2, 6, 6, 6, 2, 2, 6, 4, 2, 3, 5, 6, 3, 5, 4, 5, 3, 4, 3, 2, 3, 6, 4, 3, 4},
    {4, 2, 2, 3, 4, 4, 5, 5, 2, 5, 2, 2, 4, 4, 5, 6, 3, 5, 3, 5, 6, 4, 4, 4, 5, 4, 3, 4, 3, 5, 2, 5, 4, 4, 3, 2, 2, 4},
    {2, 6, 2, 2, 4, 6, 4, 3, 4, 5, 4, 5, 3, 6, 2, 6, 4, 5, 3, 6, 5, 4, 5, 2, 6, 6, 2, 2, 6, 5, 4, 5, 6, 3, 6, 2, 6, 3},
    {4, 2, 3, 3, 3, 4, 3, 3, 4, 4, 3, 5, 4, 5, 3, 2, 2, 4, 3, 3, 6, 3, 6, 6, 5, 4, 4, 2, 6, 6, 4, 3, 6, 6, 3, 3, 6, 5},
    {2, 6, 4, 5, 3, 6, 6, 2, 6, 3, 6, 2, 2, 4, 5, 5, 5, 3, 6, 2, 4, 2, 4, 3, 6, 2, 6, 6, 2, 6, 5, 6, 2, 4, 2, 3, 5, 2},
    {5, 5, 4, 2, 5, 6, 4, 4, 3, 5, 3, 2, 2, 4, 5, 4, 3, 6, 2, 4, 6, 4, 4, 6, 5, 5, 6, 5, 2, 5, 5, 2, 6, 5, 4, 4, 4, 3},
    {6, 6, 6, 6, 2, 6, 5, 3, 2, 6, 5, 3, 6, 6, 2, 3, 6, 4, 6, 5, 5, 4, 5, 6, 5, 2, 3, 2, 2, 3, 2, 6, 3, 6, 6, 6, 3, 3},
    {3, 3, 4, 3, 5, 6, 4, 2, 5, 6, 6, 2, 2, 4, 4, 6, 5, 5, 4, 5, 3, 2, 2, 4, 4, 6, 4, 6, 5, 5, 3, 3, 3, 5, 3, 4, 3, 3},
    {3, 6, 6, 6, 3, 4, 2, 5, 4, 3, 4, 5, 5, 2, 4, 5, 5, 5, 2, 2, 2, 5, 3, 5, 4, 2, 5, 4, 4, 4, 3, 3, 2, 2, 2, 6, 6, 4},
    {5, 3, 5, 5, 5, 3, 5, 3, 3, 5, 6, 4, 5, 5, 2, 3, 3, 3, 4, 3, 6, 6, 5, 3, 5, 5, 5, 4, 3, 6, 3, 4, 5, 4, 2, 4, 5, 4},
    {4, 6, 3, 3, 6, 4, 6, 2, 5, 2, 3, 3, 4, 6, 4, 2, 4, 4, 5, 5, 2, 4, 4, 5, 3, 2, 4, 6, 5, 6, 6, 6, 3, 6, 2, 2, 2, 4},
    {3, 5, 3, 5, 6, 6, 4, 3, 6, 3, 5, 6, 6, 6, 4, 3, 3, 3, 3, 2, 3, 3, 2, 5, 2, 5, 2, 6, 2, 4, 3, 4, 6, 6, 5, 5, 2, 5},
    {5, 4, 4, 5, 6, 3, 5, 3, 4, 5, 3, 4, 2, 3, 3, 2, 4, 5, 2, 4, 5, 5, 4, 3, 6, 5, 5, 3, 5, 5, 3, 3, 3, 4, 6, 2, 2, 5},
    {6, 2, 3, 2, 5, 3, 5, 5, 2, 5, 6, 5, 4, 2, 2, 3, 5, 6, 6, 4, 6, 3, 6, 4, 4, 6, 4, 2, 5, 2, 2, 3, 2, 6, 6, 6, 4, 4},
    {4, 2, 3, 3, 6, 6, 3, 5, 5, 5, 3, 6, 2, 2, 2, 5, 5, 3, 2, 6, 2, 2, 4, 6, 5, 4, 5, 3, 2, 6, 3, 3, 6, 4, 5, 3, 5, 6}
    };
    for (const auto& Fila : TempPiso)
    {
        FilaPlantilla NuevaFila;
        NuevaFila.FilaDatos = Fila;
        DatosPlantillaPiso.Add(NuevaFila);
    }

    // Plantilla de Borde Inferior
    TArray<TArray<int32>> TempBordeInferior = {
     {2, 5, 6, 5, 4, 6, 1, 4, 6, 6, 5, 2, 4, 1, 3, 3, 6, 3, 1, 4, 2, 5, 2, 4, 5, 5, 5, 6, 2, 5, 5, 4, 6, 5, 3, 1, 3, 5},
     {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
     {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
     {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
     {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
     {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
     {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
     {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
     {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
     {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
     {6, 3, 6, 3, 1, 6, 5, 2, 3, 6, 6, 4, 1, 1, 5, 3, 1, 4, 3, 6, 3, 5, 2, 3, 5, 6, 1, 3, 5, 5, 3, 5, 3, 2, 1, 2, 6, 3}
    };
    for (const auto& Fila : TempBordeInferior)
    {
        FilaPlantilla NuevaFila;
        NuevaFila.FilaDatos = Fila;
        DatosPlantillaBordeInferior.Add(NuevaFila);
    }

    // Plantilla de Borde Superior
    TArray<TArray<int32>> TempBordeSuperior = {
    {2, 5, 6, 5, 4, 6, 1, 4, 6, 6, 5, 2, 4, 1, 3, 3, 6, 3, 1, 4, 2, 5, 2, 4, 5, 5, 5, 6, 2, 5, 5, 4, 6, 5, 3, 1, 3, 5},
    {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
    {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
    {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
    {6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6},
    {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
    {5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
    {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4},
    {2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
    {4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5},
    {6, 3, 6, 3, 1, 6, 5, 2, 3, 6, 6, 4, 1, 1, 5, 3, 1, 4, 3, 6, 3, 5, 2, 3, 5, 6, 1, 3, 5, 5, 3, 5, 3, 2, 1, 2, 6, 3}
    };
    for (const auto& Fila : TempBordeSuperior)
    {
        FilaPlantilla NuevaFila;
        NuevaFila.FilaDatos = Fila;
        DatosPlantillaBordeSuperior.Add(NuevaFila);
    }

    // Plantilla de Muros Inferiores
    TArray<TArray<int32>> TempMurosInferiores = {
    {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
    {1, 0, 6, 1, 4, 3, 3, 4, 1, 6, 5, 1, 1, 1, 0, 4, 0, 2, 0, 5, 2, 3, 0, 1, 0, 4, 5, 6, 4, 4, 0, 0, 1, 1, 1, 5, 3, 1},
    {1, 3, 6, 6, 6, 3, 2, 0, 1, 4, 4, 0, 4, 2, 6, 6, 1, 2, 2, 4, 6, 4, 2, 4, 0, 5, 3, 5, 6, 4, 5, 6, 0, 4, 6, 3, 6, 1},
    {1, 1, 2, 4, 6, 3, 3, 2, 3, 6, 5, 1, 1, 1, 2, 4, 1, 2, 2, 4, 1, 6, 5, 2, 4, 5, 2, 4, 5, 4, 2, 6, 5, 3, 4, 5, 6, 1},
    {1, 5, 6, 0, 3, 1, 3, 1, 6, 6, 3, 5, 1, 6, 3, 4, 1, 1, 0, 1, 3, 4, 0, 5, 3, 5, 6, 3, 6, 2, 6, 0, 0, 6, 2, 1, 2, 1},
    {1, 5, 4, 3, 2, 0, 6, 0, 0, 0, 0, 4, 6, 1, 2, 1, 0, 4, 0, 1, 0, 0, 0, 0, 5, 3, 0, 0, 0, 5, 3, 5, 0, 6, 3, 1, 3, 1},
    {1, 6, 6, 5, 5, 0, 0, 0, 3, 0, 2, 5, 3, 2, 0, 0, 6, 0, 0, 6, 0, 1, 0, 1, 0, 0, 0, 4, 0, 0, 2, 1, 0, 6, 5, 5, 1, 1},
    {1, 6, 2, 5, 5, 0, 3, 5, 0, 0, 3, 3, 6, 0, 2, 0, 0, 0, 4, 0, 0, 0, 0, 2, 0, 2, 6, 4, 4, 0, 0, 0, 0, 6, 4, 2, 4, 1},
    {1, 6, 5, 1, 2, 1, 1, 6, 0, 5, 0, 6, 2, 1, 0, 5, 4, 0, 4, 1, 5, 3, 0, 1, 0, 6, 6, 3, 5, 4, 0, 0, 0, 5, 6, 3, 6, 1},
    {1, 6, 4, 4, 2, 4, 5, 0, 0, 0, 0, 0, 6, 0, 0, 4, 5, 0, 2, 6, 6, 6, 0, 2, 0, 5, 6, 5, 6, 4, 3, 6, 0, 0, 0, 0, 5, 1},
    {1, 6, 2, 1, 3, 2, 3, 0, 1, 5, 3, 0, 2, 0, 5, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 6, 0, 2, 2, 4, 2, 1, 0, 4, 0, 6, 4, 1},
    {1, 5, 1, 2, 4, 3, 0, 0, 6, 6, 2, 0, 4, 0, 2, 0, 3, 4, 5, 2, 6, 2, 2, 5, 5, 4, 2, 3, 0, 2, 1, 6, 1, 6, 2, 4, 1, 1},
    {1, 0, 5, 1, 1, 1, 6, 2, 5, 4, 1, 0, 4, 0, 4, 0, 6, 1, 3, 3, 2, 3, 4, 1, 5, 6, 5, 6, 1, 1, 5, 4, 3, 1, 5, 5, 2, 1},
    {1, 0, 0, 0, 0, 4, 5, 4, 4, 3, 6, 0, 0, 0, 6, 0, 1, 1, 1, 2, 3, 6, 3, 6, 3, 2, 5, 5, 0, 3, 2, 5, 2, 6, 3, 3, 3, 1},
    {1, 0, 6, 3, 0, 2, 4, 4, 4, 6, 4, 0, 4, 1, 1, 0, 0, 0, 0, 0, 6, 1, 4, 3, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 3, 1, 1},
    {1, 0, 4, 5, 0, 4, 4, 5, 2, 5, 6, 0, 0, 4, 0, 0, 0, 0, 6, 0, 6, 6, 1, 0, 2, 0, 1, 5, 5, 3, 4, 3, 3, 0, 2, 6, 1, 1},
    {1, 0, 3, 5, 0, 1, 4, 4, 6, 0, 1, 5, 0, 0, 0, 0, 0, 2, 1, 0, 5, 6, 5, 0, 0, 0, 2, 6, 1, 1, 4, 1, 0, 0, 4, 2, 4, 1},
    {1, 0, 1, 5, 0, 5, 4, 6, 6, 0, 6, 4, 2, 2, 4, 0, 0, 6, 6, 0, 0, 3, 0, 0, 2, 3, 3, 2, 0, 0, 0, 0, 0, 0, 3, 4, 2, 1},
    {1, 0, 5, 3, 0, 4, 3, 2, 6, 0, 4, 6, 2, 5, 0, 0, 1, 4, 4, 4, 0, 0, 6, 0, 0, 0, 5, 0, 0, 4, 6, 3, 3, 4, 0, 0, 0, 1},
    {1, 0, 0, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 0, 0, 5, 5, 0, 2, 2, 0, 0, 2, 0, 0, 2, 6, 0, 5, 4, 2, 2, 0, 0, 0, 0, 1},
    {1, 5, 0, 0, 5, 0, 0, 0, 0, 2, 4, 1, 2, 0, 1, 6, 3, 4, 0, 4, 2, 1, 0, 0, 0, 5, 0, 1, 0, 3, 4, 0, 0, 4, 0, 3, 0, 1},
    {1, 0, 0, 0, 4, 5, 2, 6, 0, 4, 3, 5, 3, 0, 0, 6, 1, 6, 0, 2, 3, 2, 2, 1, 4, 5, 1, 0, 0, 2, 5, 0, 0, 0, 0, 5, 1, 1},
    {1, 3, 0, 0, 5, 5, 2, 6, 0, 4, 2, 4, 0, 4, 0, 0, 4, 3, 1, 0, 0, 5, 0, 5, 6, 6, 5, 0, 5, 3, 0, 0, 3, 4, 3, 4, 6, 1},
    {1, 3, 6, 0, 1, 2, 4, 6, 0, 6, 0, 0, 0, 0, 5, 0, 2, 6, 5, 0, 2, 5, 0, 0, 3, 6, 6, 0, 0, 6, 0, 6, 2, 6, 3, 1, 1, 1},
    {1, 3, 4, 1, 5, 1, 1, 0, 5, 5, 0, 1, 5, 0, 1, 0, 4, 4, 1, 6, 2, 2, 2, 0, 2, 0, 6, 4, 0, 0, 0, 5, 0, 0, 1, 0, 5, 1},
    {1, 2, 5, 1, 3, 6, 2, 2, 0, 1, 0, 2, 5, 0, 5, 0, 2, 0, 0, 0, 0, 3, 6, 0, 0, 3, 2, 1, 0, 2, 1, 2, 0, 0, 4, 2, 1, 1},
    {1, 2, 2, 6, 6, 5, 5, 1, 0, 5, 0, 3, 6, 0, 0, 0, 0, 0, 1, 3, 0, 0, 6, 2, 0, 0, 1, 1, 0, 0, 0, 4, 0, 3, 5, 4, 1, 1},
    {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 6, 4, 0, 2, 2, 0, 0, 1, 3, 0, 0, 3, 0, 2, 0, 5, 0, 2, 6, 3, 3, 1},
    {1, 6, 0, 3, 0, 3, 5, 0, 4, 0, 2, 5, 0, 1, 4, 6, 2, 6, 3, 6, 2, 0, 0, 4, 5, 1, 0, 3, 0, 2, 0, 3, 3, 0, 0, 4, 6, 1},
    {1, 1, 2, 2, 0, 0, 4, 4, 0, 0, 5, 0, 0, 0, 4, 1, 6, 5, 2, 5, 2, 0, 0, 0, 0, 0, 0, 3, 0, 2, 0, 0, 0, 6, 0, 6, 6, 1},
    {1, 5, 4, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 3, 3, 6, 1, 4, 1, 4, 0, 0, 5, 4, 4, 0, 4, 0, 1, 2, 2, 0, 2, 0, 2, 5, 1},
    {1, 4, 3, 3, 3, 0, 1, 1, 0, 2, 0, 2, 6, 0, 0, 0, 0, 3, 2, 5, 0, 0, 0, 1, 3, 1, 0, 5, 0, 3, 3, 2, 0, 5, 0, 0, 6, 1},
    {1, 4, 0, 1, 0, 0, 5, 5, 0, 6, 6, 0, 3, 4, 3, 5, 0, 3, 6, 2, 1, 2, 4, 0, 2, 6, 0, 0, 0, 3, 2, 1, 0, 0, 5, 6, 1, 1},
    {1, 6, 6, 2, 0, 6, 5, 3, 0, 0, 6, 5, 2, 0, 0, 3, 0, 2, 1, 6, 6, 0, 5, 4, 5, 3, 0, 1, 3, 4, 4, 4, 1, 3, 0, 3, 4, 1},
    {1, 0, 5, 2, 0, 5, 3, 2, 5, 4, 0, 3, 0, 0, 0, 1, 0, 0, 3, 0, 5, 1, 3, 4, 6, 1, 2, 2, 1, 2, 6, 2, 5, 5, 2, 4, 0, 1},
    {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
    };
    for (const auto& Fila : TempMurosInferiores)
    {
        FilaPlantilla NuevaFila;
        NuevaFila.FilaDatos = Fila;
        DatosPlantillaMurosInferiores.Add(NuevaFila);
    }

    // Plantilla de Muros Superiores
    TArray<TArray<int32>> TempMurosSuperiores = {
    {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
    {1, 0, 6, 1, 4, 3, 3, 4, 1, 6, 5, 1, 1, 1, 0, 4, 0, 2, 0, 5, 2, 3, 0, 1, 0, 4, 5, 6, 4, 4, 0, 0, 1, 1, 1, 5, 3, 1},
    {1, 3, 6, 6, 6, 3, 2, 0, 1, 4, 4, 0, 4, 2, 6, 6, 1, 2, 2, 4, 6, 4, 2, 4, 0, 5, 3, 5, 6, 4, 5, 6, 0, 4, 6, 3, 6, 1},
    {1, 1, 2, 4, 6, 3, 3, 2, 3, 6, 5, 1, 1, 1, 2, 4, 1, 2, 2, 4, 1, 6, 5, 2, 4, 5, 2, 4, 5, 4, 2, 6, 5, 3, 4, 5, 6, 1},
    {1, 5, 6, 0, 3, 1, 3, 1, 6, 6, 3, 5, 1, 6, 3, 4, 1, 1, 0, 1, 3, 4, 0, 5, 3, 5, 6, 3, 6, 2, 6, 0, 0, 6, 2, 1, 2, 1},
    {1, 5, 4, 3, 2, 0, 6, 0, 0, 0, 0, 4, 6, 1, 2, 1, 0, 4, 0, 1, 0, 0, 0, 0, 5, 3, 0, 0, 0, 5, 3, 5, 0, 6, 3, 1, 3, 1},
    {1, 6, 6, 5, 5, 0, 0, 0, 3, 0, 2, 5, 3, 2, 0, 0, 6, 0, 0, 6, 0, 1, 0, 1, 0, 0, 0, 4, 0, 0, 2, 1, 0, 6, 5, 5, 1, 1},
    {1, 6, 2, 5, 5, 0, 3, 5, 0, 0, 3, 3, 6, 0, 2, 0, 0, 0, 4, 0, 0, 0, 0, 2, 0, 2, 6, 4, 4, 0, 0, 0, 0, 6, 4, 2, 4, 1},
    {1, 6, 5, 1, 2, 1, 1, 6, 0, 5, 0, 6, 2, 1, 0, 5, 4, 0, 4, 1, 5, 3, 0, 1, 0, 6, 6, 3, 5, 4, 0, 0, 0, 5, 6, 3, 6, 1},
    {1, 6, 4, 4, 2, 4, 5, 0, 0, 0, 0, 0, 6, 0, 0, 4, 5, 0, 2, 6, 6, 6, 0, 2, 0, 5, 6, 5, 6, 4, 3, 6, 0, 0, 0, 0, 5, 1},
    {1, 6, 2, 1, 3, 2, 3, 0, 1, 5, 3, 0, 2, 0, 5, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 6, 0, 2, 2, 4, 2, 1, 0, 4, 0, 6, 4, 1},
    {1, 5, 1, 2, 4, 3, 0, 0, 6, 6, 2, 0, 4, 0, 2, 0, 3, 4, 5, 2, 6, 2, 2, 5, 5, 4, 2, 3, 0, 2, 1, 6, 1, 6, 2, 4, 1, 1},
    {1, 0, 5, 1, 1, 1, 6, 2, 5, 4, 1, 0, 4, 0, 4, 0, 6, 1, 3, 3, 2, 3, 4, 1, 5, 6, 5, 6, 1, 1, 5, 4, 3, 1, 5, 5, 2, 1},
    {1, 0, 0, 0, 0, 4, 5, 4, 4, 3, 6, 0, 0, 0, 6, 0, 1, 1, 1, 2, 3, 6, 3, 6, 3, 2, 5, 5, 0, 3, 2, 5, 2, 6, 3, 3, 3, 1},
    {1, 0, 6, 3, 0, 2, 4, 4, 4, 6, 4, 0, 4, 1, 1, 0, 0, 0, 0, 0, 6, 1, 4, 3, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 3, 1, 1},
    {1, 0, 4, 5, 0, 4, 4, 5, 2, 5, 6, 0, 0, 4, 0, 0, 0, 0, 6, 0, 6, 6, 1, 0, 2, 0, 1, 5, 5, 3, 4, 3, 3, 0, 2, 6, 1, 1},
    {1, 0, 3, 5, 0, 1, 4, 4, 6, 0, 1, 5, 0, 0, 0, 0, 0, 2, 1, 0, 5, 6, 5, 0, 0, 0, 2, 6, 1, 1, 4, 1, 0, 0, 4, 2, 4, 1},
    {1, 0, 1, 5, 0, 5, 4, 6, 6, 0, 6, 4, 2, 2, 4, 0, 0, 6, 6, 0, 0, 3, 0, 0, 2, 3, 3, 2, 0, 0, 0, 0, 0, 0, 3, 4, 2, 1},
    {1, 0, 5, 3, 0, 4, 3, 2, 6, 0, 4, 6, 2, 5, 0, 0, 1, 4, 4, 4, 0, 0, 6, 0, 0, 0, 5, 0, 0, 4, 6, 3, 3, 4, 0, 0, 0, 1},
    {1, 0, 0, 0, 0, 0, 6, 0, 0, 0, 6, 0, 0, 0, 0, 0, 5, 5, 0, 2, 2, 0, 0, 2, 0, 0, 2, 6, 0, 5, 4, 2, 2, 0, 0, 0, 0, 1},
    {1, 5, 0, 0, 5, 0, 0, 0, 0, 2, 4, 1, 2, 0, 1, 6, 3, 4, 0, 4, 2, 1, 0, 0, 0, 5, 0, 1, 0, 3, 4, 0, 0, 4, 0, 3, 0, 1},
    {1, 0, 0, 0, 4, 5, 2, 6, 0, 4, 3, 5, 3, 0, 0, 6, 1, 6, 0, 2, 3, 2, 2, 1, 4, 5, 1, 0, 0, 2, 5, 0, 0, 0, 0, 5, 1, 1},
    {1, 3, 0, 0, 5, 5, 2, 6, 0, 4, 2, 4, 0, 4, 0, 0, 4, 3, 1, 0, 0, 5, 0, 5, 6, 6, 5, 0, 5, 3, 0, 0, 3, 4, 3, 4, 6, 1},
    {1, 3, 6, 0, 1, 2, 4, 6, 0, 6, 0, 0, 0, 0, 5, 0, 2, 6, 5, 0, 2, 5, 0, 0, 3, 6, 6, 0, 0, 6, 0, 6, 2, 6, 3, 1, 1, 1},
    {1, 3, 4, 1, 5, 1, 1, 0, 5, 5, 0, 1, 5, 0, 1, 0, 4, 4, 1, 6, 2, 2, 2, 0, 2, 0, 6, 4, 0, 0, 0, 5, 0, 0, 1, 0, 5, 1},
    {1, 2, 5, 1, 3, 6, 2, 2, 0, 1, 0, 2, 5, 0, 5, 0, 2, 0, 0, 0, 0, 3, 6, 0, 0, 3, 2, 1, 0, 2, 1, 2, 0, 0, 4, 2, 1, 1},
    {1, 2, 2, 6, 6, 5, 5, 1, 0, 5, 0, 3, 6, 0, 0, 0, 0, 0, 1, 3, 0, 0, 6, 2, 0, 0, 1, 1, 0, 0, 0, 4, 0, 3, 5, 4, 1, 1},
    {1, 2, 1, 6, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 6, 4, 0, 2, 2, 0, 0, 1, 3, 0, 0, 3, 0, 2, 0, 5, 0, 2, 6, 3, 3, 1},
    {1, 6, 0, 3, 0, 3, 5, 0, 4, 0, 2, 5, 0, 1, 4, 6, 2, 6, 3, 6, 2, 0, 0, 4, 5, 1, 0, 3, 0, 2, 0, 3, 3, 0, 0, 4, 6, 1},
    {1, 1, 2, 2, 0, 0, 4, 4, 0, 0, 5, 0, 0, 0, 4, 1, 6, 5, 2, 5, 2, 0, 0, 0, 0, 0, 0, 3, 0, 2, 0, 0, 0, 6, 0, 6, 6, 1},
    {1, 5, 4, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 3, 3, 6, 1, 4, 1, 4, 0, 0, 5, 4, 4, 0, 4, 0, 1, 2, 2, 0, 2, 0, 2, 5, 1},
    {1, 4, 3, 3, 3, 0, 1, 1, 0, 2, 0, 2, 6, 0, 0, 0, 0, 3, 2, 5, 0, 0, 0, 1, 3, 1, 0, 5, 0, 3, 3, 2, 0, 5, 0, 0, 6, 1},
    {1, 4, 0, 1, 0, 0, 5, 5, 0, 6, 6, 0, 3, 4, 3, 5, 0, 3, 6, 2, 1, 2, 4, 0, 2, 6, 0, 0, 0, 3, 2, 1, 0, 0, 5, 6, 1, 1},
    {1, 6, 6, 2, 0, 6, 5, 3, 0, 0, 6, 5, 2, 0, 0, 3, 0, 2, 1, 6, 6, 0, 5, 4, 5, 3, 0, 1, 3, 4, 4, 4, 1, 3, 0, 3, 4, 1},
    {1, 0, 5, 2, 0, 5, 3, 2, 5, 4, 0, 3, 0, 0, 0, 1, 0, 0, 3, 0, 5, 1, 3, 4, 6, 1, 2, 2, 1, 2, 6, 2, 5, 5, 2, 4, 0, 1},
    {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
    };
    for (const auto& Fila : TempMurosSuperiores)
    {
        FilaPlantilla NuevaFila;
        NuevaFila.FilaDatos = Fila;
        DatosPlantillaMurosSuperiores.Add(NuevaFila);
    }
}